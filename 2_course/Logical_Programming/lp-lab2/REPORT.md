#№ Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: Каширин К.Д.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|   21.12      |       5       |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение

В математике существует несколько подходов к решению логических задач: методом рассуждений, таблиц, блок-схем, графов или применяя средства алгебры логики. Эти методы
позволяют сделать перебор возможных решений, проверить удовлетворение заданным условиям, исключить решения, которые являются неверными. Некоторые задачи, имеющие много разнообразных условий и входных данных, могут занять много времени для решения. К тому же есть вероятность получить неверный ответ. Для решения логических задач на декларативных языках существует несколько методов: метод генерации и проверки, метод подробного описания всех фактов и многие другие. В этом случае Prolog является удобным инструментом для решения логических задач. Он является декларативным языком программирования, а поэтому корректно преобразовав условие задачи в набор предикатов, применяя перебор возможных решений, получим правильный ответ на задачу. 

## Задание

8.Борисов, Кириллов, Данин и Савин инженеры. Один из них автомеханик, другой химик, третий строитель, четвертый радиотехник. Борисов, который обыгрывает в шахматы Данина, но проигрывает Савину, бегает на лыжах лучше того инженера, который моложе его, и ходит в театр чаще, чем тот инженер, который старше Кириллова. Химик, который посещает театр чаще, чем автомеханик, но реже, чем строитель, не является ни самым молодым, ни самым старшим из этой четверки. Строитель, который на лыжах бегает хуже, чем радиотехник, как правило, проигрывает в шахматных сражениях автомеханику. Самый пожилой из инженеров лучше всех играет в шахматы и чаще всех бывает в театре, а самый молодой лучше всех ходит на лыжах. Назовите профессии каждого из инженеров, если известно, что ни в спорте, ни в приверженности к театру среди нет двух одинаковых.

## Принцип решения

Перед тем как начать описывать условие задачи, заметим, что в задании постоянно идет сравнения четырех инженеров: кто-то чаще ходит в театре, хуже играет в шахмат, быстрее катается на лыжах, моложе. Поэтому пропишем абсолютную позицию для 4 инжернеров (чем ближе инженер к началу, тем он лучше).

```prolog
begin(A,[A,_,_,_]).
medium(B,[_,B,_,_]).
medium(C,[_,_,C,_]).
end(D,[_,_,_,D]).
```

Также пропишем относительную позицию, которая показывает, что `X`-инжеренер в какой-либо категории (шахматы, лыжи, театр, возраст) превосходит `Y`-инженера.
```prolog
before(X,Y,[X|Z]):-
    member(Y,Z).
before(X,Y,[_|Z]):-
    before(X,Y,Z).
```

Главный предикат `solve(Engineers)` содержит список, который предстовляет собой список термов `man(E, Eprof)`.
```prolog
Engineers = [man(A, Aprof), man(B, Bprof), man(C, Cprof),  man(D, Dprof)],
['Борисов','Кириллов','Данин','Савин']=[A, B, C, D],
permutation(['Строитель','Aвтомеханик','Химик','Радиотехник'],[Aprof, Bprof, Cprof, Dprof]),
```

Для определения возраста используем перестановку  `permutation(Engineers,Age)`. Выпишем все условия из задачи, касающиеся возрастов инженеров. Борисов бегает на лыжах лучше того инженера, который моложе его. Поскольку мы не знаем имя инженера введём переменную `Engineer1`, и пропишем это условие в качестве относительной позицией, также проверив принадлежность этого инженера к списку `Engineers`. Условие "химик не является ни самым молодым, ни самым старшим" отражено в предикате `medium(man(_,'Химик'),Age)`. Также в условии задачи есть самый молодой и самый пожилой инженеры. Запишем эти факты в качестве абсолютной позиции, введя переменные `Young`,`Elderly`.
```prolog
permutation(Engineers,Age),
member(Engineer1, Engineers),
before(man('Борисов', _), Engineer1, Age),
medium(man(_,'Химик'),Age),
end(Young, Age),
begin(Elderly,Age),
```

Для определения успехов инженеров в шахматах была использована переставновка `permutation(Engineers,Chess)`. Пропишем из задачи все условия, которые касаются шахмат:
Борисов обыгрывает в шахматы Данина, но проигрывает Савину; cтроитель проигрывает в шахматных сражениях автомеханику. Запишем в качестве относительной позиции данные условия.
```prolog
permutation(Engineers,Chess),
begin(Elderly,Chess),
before( man('Борисов', _),man('Данин', _), Chess),
before(man('Савин', _),man('Борисов', _),  Chess),
before(man(_, 'Aвтомеханик'), man(_, 'Строитель'),  Chess),
```

Аналогично возрасту и шахматам, перестановка `permutation(Engineers, Ski)` используется для того, чтобы узнать, кто быстрее катается на лыжах. Из условия задачи, мы знаем, что самый молодой инженер лучше всех ходит на лыжах. Запишем это условие в качестве предиката `begin(Young, Ski)`. Строитель на лыжах бегает хуже, чем радиотехник. Борисов бегает на лыжах лучше того инженера, который моложе его. Здесь используем относительную позицию, чтобы записать данные условия.
```prolog
permutation(Engineers, Ski),
begin(Young, Ski),
before(man(_, 'Радиотехник'), man(_, 'Строитель'), Ski),
before(man('Борисов', _), Somebody1, Ski),
```

Для определения посещений театра инженерами используется перестановка `permutation(Engineers, Theater)`. Для описания условия "самый пожилой из инженеров чаще всех бывает в театре" запишем предикат `begin(Elderly,Theater)`. Для условия "Борисов ходит в театр чаще, чем тот инженер, который старше Кириллова" будем использовать дополнительно переменную `Engineer2`. Для условия "химик посещает театр чаще, чем автомеханик, но реже, чем строитель" будем использовать относительную позицию.
```prolog
permutation(Engineers, Theater),
begin(Elderly,Theater),
member(Engineer2, Engineers),
before(man('Борисов', _), Engineer2,  Theater),
before(Engineer2, man('Кириллов', _), Age),
before(man(_, 'Химик'), man(_, 'Aвтомеханик'),  Theater),
before(man(_, 'Строитель'),  man(_, 'Химик'), Theater).
```
Результат программы:
```prolog
?- solve(Engineers).
Engineers = [man('Борисов', 'Строитель'), man('Кириллов', 'Aвтомеханик'), man('Данин', 'Химик'), man('Савин', 'Радиотехник')] .
```
## Выводы

Выполнив данную работу, я приобрел навык решения логических задач с использованием языка Prolog, который является превосходным инструмент для такой работы. Описывая информацию, полученную из условия задачи, с помощью перебора получаем верный и точный ответ. Иногда легче, удобнее, приятнее сделать перевод условия задачи в набор предикатов и обработать их, нежели решать логическую задачу вручную математическими методами. Стоит также учитывать и объем входных данных. На небольших данных Prolog сможет решить логическую задачу за короткий срок. Но если объем входных данных огромный, то из-за рекурсий и постоянный перестановок сложность алгоритма может достигать n! и получение решения задачи уже не будет получено быстро.


